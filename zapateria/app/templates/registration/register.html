{% load static %}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Crear cuenta | Zapatería</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a href="{% url 'store' %}" class="brand">Zapatería</a>
    </div>
  </header>

  <main class="container">
    <h1 style="margin-bottom:1rem">Crear cuenta</h1>

    {% if messages %}
      {% for m in messages %}
        <div class="alert alert-{{ m.tags|default:'info' }}">{{ m }}</div>
      {% endfor %}
    {% endif %}

    <form method="post" class="form">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div class="form-row">
        <div>
          <label>Usuario</label>
          {{ form.username}}
          {% if form.username.errors %}
            <div class="alert alert-error">{{ form.username.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div>
    <label>Email</label>
    {{ form.email }}  <!-- ← USA el campo del formulario en lugar de input directo -->
    {% if form.email.errors %}
        <div class="alert alert-error">{{ form.email.errors|join:", " }}</div>
    {% endif %}
</div>
      </div>

      <div class="form-row">
        <div>
          <label>Contraseña</label>
          {{ form.password1}}
          {% if form.password1.errors %}
            <div class="alert alert-error">{{ form.password1.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div>
          <label>Repetir contraseña</label>
          {{ form.password2}}
          {% if form.password2.errors %}
            <div class="alert alert-error">{{ form.password2.errors|join:", " }}</div>
          {% endif %}
        </div>
      </div>

      <button class="btn" type="submit">Crear cuenta</button>
      <a class="btn btn-outline" href="{% url 'login' %}">Ya tengo cuenta</a>
    </form>
  </main>
</body>
</html>
